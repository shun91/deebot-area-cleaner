# deebot-area-cleaner

DEEBOTで指定したエリアの清掃を開始するAPIです。

## 初期セットアップ

このプロジェクトをセットアップするには、以下の手順に従ってください。

1. **依存関係のインストール**

   プロジェクトのルートディレクトリで以下のコマンドを実行して、必要な依存関係をインストールします。

   ```bash
   yarn install
   ```

2. **ビルド**

   TypeScriptをJavaScriptにコンパイルするために、以下のコマンドを実行します。

   ```bash
   yarn build
   ```

3. **開発サーバーの起動**

   開発サーバーを起動するには、以下のコマンドを実行します。

   ```bash
   yarn dev
   ```

## 使用方法

開発サーバーが起動したら、APIを使用してDEEBOTで指定したエリアの清掃を開始することができます。

### エンドポイント

- **`/`**: 指定されたエリアの清掃を開始します。クエリパラメータとして`targetAreas`を指定する必要があります。例: `GET /?targetAreas=1,2,3`
  - **レスポンス**: 清掃が開始された場合、ステータス200とメッセージ"ok"を返します。`targetAreas`が指定されていない場合、ステータス400とエラーメッセージを返します。

- **`/spot-areas`**: 利用可能なスポットエリアの情報を取得します。
  - **レスポンス**: スポットエリアの情報を含むJSONを返します。

## 環境変数

このプロジェクトでは、以下の環境変数が必要です。

- `ACCESS_TOKEN`: APIの認証に使用されるトークンです。APIリクエストのヘッダーに`Bearer`トークンとして含める必要があります。
- `ACCOUNT_ID`: EcovacsアカウントのIDまたはメールアドレスです。
- `PASSWORD`: Ecovacsアカウントのパスワードです。
